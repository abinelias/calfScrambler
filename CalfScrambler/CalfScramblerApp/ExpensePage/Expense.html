<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading" style="font-size: 20px;padding: 10px;color: blue;">Monthly Expense Reporting - Month</div>
                <div class="panel-body">
                    <div class="panel panel-default">
                        <div class="panel-heading" style="font-size: 20px;padding: 10px;color: dimgray;">Reporting Cycle: Enter from MMM 11 to MMM 10.</div>
                        <div class="panel-body">
                            <div>
                                Enter expense, quantity and unit cost, then click "Add Expense…" To change an expense, delete and reenter.
                                Additional expenses can be added for this month until the reporting cycle changes.
                            </div>
                            <div>
                                If the purchase price of the animal is more than the value of the certificate, the extra amount paid should be
                                reflected as an expense the month that it was paid. Grain and hay fed to the calf should be charged at the
                                prevailing rate. Native pasture should be charged at the rate of $10.00 per month and planted pasture at the rate
                                of $12.00 per month.
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="addExpenseModal" role="dialog">
                        <div class="modal-dialog">

                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Add Expense</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col-md-10">
                                            <input type="text" placeholder="Expense Type" ng-model="expense.expenseType" class="form-control" />
                                        </div>
                                    </div>
                                    <div class="row" style="margin-top:10px;">
                                        <div class="col-md-10">
                                            <select class="form-control" ng-model="expense.selectedQuanity" ng-options="quantity.Id as quantity.Name for quantity in expense.quantity"></select>
                                        </div>
                                    </div>
                                    <div class="row" style="margin-top:10px;">
                                        <div class="col-md-10">
                                            <input type="text" placeholder="Unit Cost" ng-model="expense.unitCost" class="form-control" />
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" ng-click="expense.saveExpense()" class="btn btn-default" data-dismiss="modal">Save</button>
                                    <button type="button" class="btn btn-default" ng-click="expense.cancelExpense()" data-dismiss="modal">Cancel</button>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" style="font-size: 20px;padding: 10px;color: dimgray;">Reporting Cycle: Enter from MMM 11 to MMM 10. <button style="float:right" type="button" class="btn btn-info btn-md" ng-click="expense.AddExpense()">Add Expense</button></div>
                        <div class="panel-body">
                            <table id="example" class="table table-striped table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid #777;background: #888;color: white;">Expense Type</th>
                                        <th style="border: 1px solid #777;background: #888;color: white;">Quantity</th>
                                        <th style="border: 1px solid #777;background: #888;color: white;">Unit Cost</th>
                                        <th style="border: 1px solid #777;background: #888;color: white;">Total Cost</th>
                                        <th style="border: 1px solid #777;background: #888;color: white;">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-if="expense.AddNewExpense">
                                        <td ><input type="text" placeholder="Expense Type" ng-model="expense.expenseType" class="form-control" /></td>
                                        <td ><select class="form-control" ng-model="expense.selectedQuanity" ng-options="quantity.Id as quantity.Name for quantity in expense.quantity"></select></td>
                                        <td ><input type="text" placeholder="UnitCost" ng-model="expense.unitCost" class="form-control" /></td>
                                        <td ></td>
                                        <td><button ng-click="expense.saveExpense(exp.Id)" class="btn btn-success">Save</button>
                                            <button ng-click="expense.cancelExpense(exp.Id)" class="btn">Cancel</button></td>
                                    </tr>
                                    <tr ng-repeat="exp in expense.monthlyData">
                                        <td ng-bind="exp.ExpenseType"></td>
                                        <td ng-bind="exp.Quantity"></td>
                                        <td ng-bind="exp.UnitCost"></td>
                                        <td ng-bind="exp.TotalCost"></td>
                                        <td><button ng-click="expense.deleteExpense(exp.Id)" class="btn btn-danger">Delete</button></td>
                                    </tr>
                                </tbody>
                            </table>
                            <script>
                                $(document).ready(function () {
                                    $('#example').DataTable({
                                        "paging": false,
                                        "ordering": false,
                                        "info": false,
                                        "searching": false
                                    });
                                });
                            </script>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading" style="font-size: 20px;padding: 10px;color: blue;">All Expenses <button style="float:right" type="button" id="overAllExportFull" class="btn btn-primary center-block" ng-click="expense.ExpenseToExcel()">Export All Expense</button></div>
                <div class="panel-body">
                    <ig-grid id="yearlyExpense" data-source="expense.yearlyData" data-source-type="json" width="100%" auto-commit="true" auto-generate-columns="false">
                        <columns>
                            <column key="ReportingMonth" header-text="Reporting Month" width="250px" data-type="string"></column>
                            <column key="ExpenseType" header-text="Expense Type" width="200px" data-type="string"></column>
                            <column key="Quantity" header-text="Quantity" width="200px" data-type="number"></column>
                            <column key="UnitCost" header-text="Units Cost" width="200px" data-type="string"></column>
                            <column key="TotalCost" header-text="Total Cost" width="100px" data-type="string"></column>
                        </columns>
                    </ig-grid>
                </div>
            </div>
        </div>
    </div>
</div>

